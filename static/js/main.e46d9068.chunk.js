(this["webpackJsonpexpense-calculator"]=this["webpackJsonpexpense-calculator"]||[]).push([[0],[,,,,function(e,t,n){e.exports={item:"Item_item__11sTe",form:"Item_form__3kPE4",title:"Item_title__1wL4Q",text:"Item_text__3Ax5C",name:"Item_name__3u5PS",price:"Item_price__1WjHd"}},,,,function(e,t,n){e.exports={label:"Input_label__3IqMH",input:"Input_input__2hvUH",input_error:"Input_input_error__8Mqcc",error:"Input_error__9WCL7"}},,,function(e,t,n){e.exports={button:"Button_button__21BsZ",button_primary:"Button_button_primary__EEdW4",button_secondary:"Button_button_secondary__mVSxi"}},function(e,t,n){e.exports={wrapper:"Calculator_wrapper__2CUuR",inner:"Calculator_inner__2Gcoe",title:"Calculator_title__1p3PQ"}},,function(e,t,n){e.exports={wrapper:"Total_wrapper__3me_h",sum:"Total_sum__3DY7O"}},,function(e,t,n){e.exports={form:"Form_form__3uhmG"}},function(e,t,n){e.exports={list:"List_list__1mLl_"}},,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(15),o=n.n(c),i=n(2),s=function(e,t){var n=function(){if("undefined"===typeof window)return t;try{var n=window.localStorage.getItem(e);return n?function(e){try{return"undefined"===e?void 0:JSON.parse(null!==e&&void 0!==e?e:"")}catch(t){return void console.log("parsing error on",{value:e})}}(n):t}catch(r){return console.warn("Error reading localStorage key \u201c".concat(e,"\u201d:"),r),t}},a=Object(r.useState)(n),c=Object(i.a)(a,2),o=c[0],s=c[1];return Object(r.useEffect)((function(){s(n())}),[]),Object(r.useEffect)((function(){var e=function(){s(n())};return window.addEventListener("storage",e),window.addEventListener("local-storage",e),function(){window.removeEventListener("storage",e),window.removeEventListener("local-storage",e)}}),[]),[o,function(t){"undefined"==typeof window&&console.warn("Tried setting localStorage key \u201c".concat(e,"\u201d even though environment is not a client"));try{var n=t instanceof Function?t(o):t;window.localStorage.setItem(e,JSON.stringify(n)),s(n),window.dispatchEvent(new Event("local-storage"))}catch(r){console.warn("Error setting localStorage key \u201c".concat(e,"\u201d:"),r)}}]},u=n(18),l=function(e){var t=Object(r.useState)(e),n=Object(i.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(!1),s=Object(i.a)(o,2),u=s[0],l=s[1];return{value:a,onChange:function(e){c(e.target.value),l(!1)},onFocus:function(){l(!1)},setValue:c,setError:l,error:u}},d=n(3),j=n(5),p=n(10),m=n(6),b=n.n(m),f=n(11),_=n.n(f),v=n(0),h=["appearance","children","className"],O=function(e){var t,n=e.appearance,r=e.children,a=e.className,c=Object(p.a)(e,h);return Object(v.jsx)("button",Object(d.a)(Object(d.a)({className:b()(_.a.button,a,(t={},Object(j.a)(t,_.a.button_primary,"primary"===n),Object(j.a)(t,_.a.button_secondary,"secondary"===n),t)),type:"button"},c),{},{children:r}))},x=n(8),g=n.n(x),w=["error","className"],y=function(e){var t=e.error,n=e.className,r=Object(p.a)(e,w);return Object(v.jsxs)("label",{className:g.a.label,children:[t&&Object(v.jsx)("span",{className:g.a.error,children:"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"}),Object(v.jsx)("input",Object(d.a)({className:b()(g.a.input,n,Object(j.a)({},g.a.input_error,t))},r))]})},E=n(16),S=n.n(E),N=function(e){var t=e.onSetList,n=l(""),r=l(""),a=!!n.value.trim().length,c=!!r.value.trim().length,o=a&&c;return Object(v.jsxs)("form",{className:S.a.form,onSubmit:function(e){e.preventDefault(),a||n.setError(!0),c||r.setError(!0),o&&(t((function(e){return[].concat(Object(u.a)(e),[{id:(new Date).toString(),name:n.value,price:r.value}])})),n.setValue(""),r.setValue(""))},children:[Object(v.jsx)(y,{type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",value:n.value,onChange:n.onChange,onFocus:n.onFocus,error:n.error}),Object(v.jsx)(y,{type:"number",placeholder:"\u0426\u0435\u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u0430",value:r.value,onChange:r.onChange,onFocus:r.onFocus,error:r.error,min:"0.01",step:".01",pattern:"^\\d*(\\.\\d{0,2})?$"}),Object(v.jsx)(O,{appearance:"primary",type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})},L=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},C=n(4),I=n.n(C),k=function(e){var t=e.id,n=e.name,a=e.price,c=e.onSetList,o=l(n),s=l(a),u=Object(r.useState)(!1),d=Object(i.a)(u,2),j=d[0],p=d[1],m=!!o.value.trim().length,f=!!s.value.trim().length,_=m&&f,h=Object(r.useRef)(null),x=function(){p(!1),o.setValue(n),s.setValue(a),o.setError(!1),s.setError(!1)};return function(e,t){Object(r.useEffect)((function(){var n=function(n){var r=null===e||void 0===e?void 0:e.current;r&&!r.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}(h,x),Object(v.jsx)("li",{className:b()(!j&&I.a.item),ref:h,children:j?Object(v.jsxs)("form",{className:b()(I.a.item,I.a.form),onSubmit:function(e){e.preventDefault(),m||o.setError(!0),f||s.setError(!0),_&&(c((function(e){var n=e.findIndex((function(e){return e.id===t})),r=e.slice();return r.splice(n,1,{id:t,name:o.value,price:s.value}),r})),p(!1))},children:[Object(v.jsx)(y,{className:I.a.name,value:o.value,onChange:o.onChange,error:o.error,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"}),Object(v.jsx)(y,{className:I.a.price,value:s.value,onChange:s.onChange,error:s.error,placeholder:"\u0426\u0435\u043d\u0430",type:"number",min:"0.01",step:".01",pattern:"^\\d*(\\.\\d{0,2})?$"}),Object(v.jsx)(O,{appearance:"primary",type:"submit",children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(v.jsx)(O,{onClick:x,appearance:"secondary",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h2",{className:I.a.title,children:n}),Object(v.jsxs)("div",{className:I.a.text,children:[L(+a)," \u0440."]}),Object(v.jsx)(O,{onClick:function(){return p(!0)},appearance:"primary",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(v.jsx)(O,{onClick:function(){c((function(e){return e.filter((function(e){return e.id!==t}))}))},appearance:"secondary",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})})},F=n(17),B=n.n(F),V=function(e){var t=e.list,n=e.onSetList;return Object(v.jsx)("ul",{className:B.a.list,children:t.length?t.map((function(e){return Object(v.jsx)(k,Object(d.a)(Object(d.a)({},e),{},{onSetList:n}),e.id)})):Object(v.jsxs)("li",{children:["\u0420\u0430\u0441\u0445\u043e\u0434\u043e\u0432 \u043d\u0435\u0442",Object(v.jsx)("span",{role:"img","aria-label":"\u0421\u043c\u0430\u0439\u043b\u0438\u043a \u0432 \u0447\u0435\u0440\u043d\u044b\u0445 \u043e\u0447\u043a\u0430\u0445",children:"\ud83d\ude0e"}),"..."]})})},D=n(14),J=n.n(D),T=function(e){var t=e.list,n=e.onSetList;return Object(v.jsxs)("div",{className:J.a.wrapper,children:[Object(v.jsxs)("div",{className:J.a.sum,children:["\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430: ",function(){if(t.length){return L(t.slice().reduce((function(e,t){return e+ +t.price}),0))}}()||0," \u0440."]}),Object(v.jsx)(O,{onClick:function(){n([])},appearance:"secondary",disabled:!t.length,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"})]})},H=n(12),M=n.n(H),P=function(){var e=s("expenses",[]),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(v.jsx)("div",{className:M.a.wrapper,children:Object(v.jsxs)("div",{className:M.a.inner,children:[Object(v.jsx)("h1",{className:M.a.title,children:"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432"}),Object(v.jsx)(N,{onSetList:r}),Object(v.jsx)(V,{list:n,onSetList:r}),Object(v.jsx)(T,{list:n,onSetList:r})]})})},W=(n(24),function(){return Object(v.jsx)(P,{})});o.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(W,{})}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.e46d9068.chunk.js.map